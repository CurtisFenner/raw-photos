<!doctype html>
<html>
<meta charset="utf-8">
<link rel="preload" href="/Lexend/Lexend-VariableFont_wght.ttf" as="font" type="font/ttf" crossorigin>
<link rel="stylesheet" href="editor.css">

<body>

	<div id="editor-div"
		style="display: flex; flex-direction: column; position: fixed; left: 0; top: 0; right: 0; bottom: 0;">
		<div id="menu-div" style="padding-left: 0.75em; line-height: 3em; height: 3em; margin-bottom: 1px;">
			<div class="menu-file-line">
				<input disabled id="input-dng" type="file" accept="image/DNG,.dng,.tiff"> <samp
					id="menu-filename-span"></span>
			</div>
		</div>
		<form id="menu-tabs" class="tabbed" style="flex-grow: 1;">
			<input id="active-tab-about" type="radio" name="active-tab" checked>
			<label for="active-tab-about">About this web app</label>
			<div class="tab" style="padding: 1em;">
				<h1>About this web app</h1>
				<p>
					Hi, I'm Curtis Fenner. I made this web app because I was curious
					about how "raw" photo formats work, and the process that
					computers use to turn a digital camera's sensor data into a
					viewable image.
			</div>

			<input id="active-tab-image" type="radio" name="active-tab">
			<label for="active-tab-image">View image</label>
			<div id="tab-image-div" class="tab">
				<div style="display: flex; flex-direction: column;  position: absolute; left: 0; right: 0; top: 0; bottom: 0;">
					<div id="image-menu-div" style="height: 3em; padding: 1em; flex-direction: row; display: flex; gap: 1em; align-items: center;">
						<label>
							Demosaic:
							<select id="menu-demosaic-select">
								<option value="rggb-linear">RGGB: Linear</option>
								<option value="no-demosaic">No demosaic (grayscale)</option>
								<option value="pixelate">Pixelate</option>
								<option value="pixelate-punch">Pixelate "Punch"</option>
							</select>
						</label>

						<label>
							White-Balance:
							<select id="menu-white-balance">
								<option value="temperature-ignore-cc">Temperature (Ignore CameraCalibration)</option>
								<option value="temperature-use-cc">Temperature (Use CameraCalibration)</option>
								<option value="as-shot-neutral">AsShotNeutral (Camera Space)</option>
								<option value="none">None (Camera Space)</option>
							</select>
						</label>

						<label>
							White-Balance Temperature:
							<select id="menu-white-balance-temp" value='["K", "6504"]'>
								<option value='["K", 2856]'>A: Tungsten Incandescent (2856 K)</option>
								<option value='["K", 4230]'>F6: Cool white fluorescent (4230 K)</option>
								<option value='["K", 5003]'>D50: Horizon sunlight (5003 K)</option>
								<option value='["K", 5454]'>E: Equal energy (5454 K)</option>
								<option value='["K", 6504]'>D65: Average daylight (6504 K)</option>
							</select>
							<script type="text/javascript">{
								const menuWhiteBalance = document.getElementById("menu-white-balance");
								const menuWhiteBalanceTemp = document.getElementById("menu-white-balance-temp");
								menuWhiteBalance.addEventListener("change", () => {
									menuWhiteBalanceTemp.disabled = !menuWhiteBalance.value.includes("temp");
								});
							}</script>
						</label>
					</div>
					<div id="image-preview-div" class="hero-graph-paper" style="flex-grow: 1; padding: 1em; overflow: scroll;">
					</div>
				</div>
			</div>

			<input id="active-tab-tags" type="radio" name="active-tab">
			<label for="active-tab-tags">DNG Tags</label>
			<div id="tab-tags-div" class="tab" style="padding: 1em; overflow-y: auto;">
				<h1>View your beautiful tags</h1>
			</div>
		</form>
	</div>
	<script type="importmap">
		{
			"imports": {
				"culori": "./node_modules/culori/bundled/culori.mjs"
			}
		}
	</script>
	<script type="module" src="dist/src/editor/main.js"></script>
